{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Person.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","searchText","handleSearchTextChange","type","value","onChange","PersonForm","addPerson","newName","handleNameChange","newPhone","handlePhoneChange","onSubmit","Persons","peopleToShow","deletePerson","map","person","removePerson","id","Person","name","number","onClick","window","confirm","Notification","message","content","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","console","log","data","post","put","delete","App","useState","persons","setPersons","setNewName","setNewPhone","setSearchText","setMessage","useEffect","personService","updateNumber","updatedPerson","p","setTimeout","catch","error","filter","toLowerCase","includes","e","target","preventDefault","foundPerson","find","newPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cb51ada2.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ searchText, handleSearchTextChange }) => {\n  return (\n    <form>\n      filter shown with{' '}\n      <input type=\"text\" value={searchText} onChange={handleSearchTextChange} />\n    </form>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleNameChange,\n  newPhone,\n  handlePhoneChange,\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newPhone} onChange={handlePhoneChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react';\nimport { Person } from '.';\n\nconst Persons = ({ peopleToShow, deletePerson }) => {\n  return peopleToShow.map((person) => (\n    <Person person={person} removePerson={() => deletePerson(person.id)} />\n  ));\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst Person = ({ person, removePerson }) => {\n  return (\n    <p key={person.id}>\n      {person.name} {person.number}{' '}\n      <button\n        type=\"button\"\n        onClick={() => {\n          if (window.confirm(`Delete ${person.name}?`)) {\n            removePerson();\n          }\n        }}\n      >\n        delete\n      </button>\n    </p>\n  );\n};\n\nexport default Person;\n","import React from 'react';\n\nconst Notification = ({ message }) => {\n  const { content, type } = message;\n  const successStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n  const failureStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n\n  if (content === null) {\n    return null;\n  }\n\n  return (\n    <div style={type === 'success' ? successStyle : failureStyle}>\n      {content}\n    </div>\n  );\n};\n\nexport default Notification;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAllPersons = () =>\n  axios.get(baseUrl).then((response) => {\n    console.log('get all persons', response);\n    return response.data;\n  });\n\nconst addPerson = (data) =>\n  axios.post(baseUrl, data).then((response) => {\n    console.log('add person', response);\n    return response.data;\n  });\n\nconst updateNumber = (id, data) =>\n  axios.put(`${baseUrl}/${id}`, data).then((response) => {\n    console.log('update number', response);\n    return response.data;\n  });\n\nconst deletePerson = (id) =>\n  axios.delete(`${baseUrl}/${id}`).then((response) => {\n    console.log('delete person', response);\n    return response;\n  });\n\nexport default {\n  getAllPersons,\n  addPerson,\n  updateNumber,\n  deletePerson,\n};\n","import React, { useState, useEffect } from 'react';\nimport { Filter, PersonForm, Persons, Notification } from './components';\nimport personService from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newPhone, setNewPhone] = useState('');\n  const [searchText, setSearchText] = useState('');\n  const [message, setMessage] = useState({ content: null, type: null });\n\n  const handleNameChange = (e) => setNewName(e.target.value);\n  const handlePhoneChange = (e) => setNewPhone(e.target.value);\n  const handleSearchTextChange = (e) => setSearchText(e.target.value);\n\n  useEffect(() => {\n    personService.getAllPersons().then((data) => setPersons(data));\n  }, []);\n\n  const addPerson = (e) => {\n    e.preventDefault();\n    const foundPerson = persons.find((person) => person.name === newName);\n\n    if (foundPerson) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        updateNumber(foundPerson.id);\n      }\n    } else {\n      personService\n        .addPerson({ name: newName, number: newPhone })\n        .then((newPerson) => {\n          console.log('newPerson', newPerson);\n          setPersons([...persons, newPerson]);\n          setNewName('');\n          setNewPhone('');\n          setMessage({\n            content: `Added ${newPerson.name}`,\n            type: 'success',\n          });\n          setTimeout(() => {\n            setMessage({ content: null, type: null });\n          }, 3000);\n        });\n    }\n  };\n\n  const updateNumber = (id) => {\n    personService\n      .updateNumber(id, { name: newName, number: newPhone })\n      .then((updatedPerson) => {\n        setPersons(persons.map((p) => (p.id !== id ? p : updatedPerson)));\n        setNewName('');\n        setNewPhone('');\n        setMessage({\n          content: `Phone number of ${updatedPerson.name} updated`,\n          type: 'success',\n        });\n        setTimeout(() => {\n          setMessage({ content: null, type: null });\n        }, 3000);\n      })\n      .catch((error) => {\n        setMessage({\n          content: `Information of ${newName} has already been removed from server`,\n          type: 'failure',\n        });\n        setTimeout(() => {\n          setMessage({ content: null, type: null });\n        }, 3000);\n        setNewName('');\n        setNewPhone('');\n        setPersons(persons.filter((p) => p.id !== id));\n      });\n  };\n\n  const deletePerson = (id) => {\n    personService\n      .deletePerson(id)\n      .then(() => setPersons(persons.filter((p) => p.id !== id)));\n  };\n\n  const peopleToShow =\n    searchText === ''\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(searchText.toLowerCase())\n        );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter\n        searchText={searchText}\n        handleSearchTextChange={handleSearchTextChange}\n      />\n      <h2>add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newPhone={newPhone}\n        handlePhoneChange={handlePhoneChange}\n      />\n      <h2>Numbers</h2>\n      <Persons peopleToShow={peopleToShow} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}